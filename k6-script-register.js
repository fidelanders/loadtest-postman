// Auto-generated by the postman-to-k6 converter

import "./libs/shim/core.js";

export let options = { maxRedirects: 4 };

const Request = Symbol.for("request");
postman[Symbol.for("initial")]({
  options
});

export default function() {
  postman[Request]({
    name: "Registration and authentication",
    id: "d50c2370-05e3-41ea-8be0-cbf38f8ab029",
    method: "POST",
    address: "https://test-api.k6.io/user/register/",
    data:
      '{\r\n    "username": "{{$randomUserName}}",\r\n    "first_name": "{{$randomFirstName}}",\r\n    "last_name": "{{$randomLastName}}",\r\n    "email": "{{$randomEmail}}",\r\n    "password": "{{$randomPassword}}"\r\n}',
    post(response) {
      pm.test("Status code is 201", function() {
        pm.response.to.have.status(201);
      });

      // const resp = pm.response.json();

      // pm.globals.set("email", resp.email);
    }
  });
}
